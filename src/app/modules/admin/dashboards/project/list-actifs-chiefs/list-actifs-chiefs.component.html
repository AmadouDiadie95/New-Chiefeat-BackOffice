<div class="w-full mt-8">
    <div class="xl:col-span-2 flex flex-col flex-auto bg-card shadow rounded-2xl overflow-hidden">
        <div class="flex">
            <div class="flex-auto p-6">
                <div class="mr-4 text-lg font-medium tracking-tight leading-6 truncate">Liste des Chiefs Actifs
                </div>
                <div class="text-secondary font-medium">36 Chiefs actifs</div>
            </div>
            <!-- Main actions -->
            <div class="flex-auto items-center mt-4 sm:mt-0 md:mt-4">
                <!-- Search -->
                <div class="flex">
                    <mat-form-field
                        class="fuse-mat-dense fuse-mat-no-subscript fuse-mat-rounded w-full min-w-50">
                        <mat-icon
                            class="icon-size-5"
                            matPrefix
                            [svgIcon]="'heroicons_solid:search'"></mat-icon>
                        <input
                            matInput
                            [(ngModel)]="searchKey"
                            [autocomplete]="'off'"
                            [placeholder]="'Search...'">
                    </mat-form-field>

                    <!-- Add contact button (click)="findEventTicketsByPage(page, size)" -->
                    <button
                        class="ml-4 mr-5"
                        mat-flat-button
                        [color]="'primary'">
                        <mat-icon [svgIcon]="'heroicons_outline:search'"></mat-icon>
                        <span class="ml-2 mr-1">Rechercher</span>
                    </button>
                </div>
            </div>
        </div>
        <div class="overflow-x-auto mx-6">
            <table
                class="w-full bg-transparent"
                mat-table
                matSort
                [dataSource]="listActifsChiefs"
                [trackBy]="trackByFn"
                #listActifsChiefsTable >

                <!-- Nom -->
                <ng-container matColumnDef="Nom">
                    <th mat-header-cell mat-sort-header *matHeaderCellDef>Nom</th>
                    <td mat-cell *matCellDef="let item">
                        <span class="pr-6 whitespace-nowrap">{{item.lastName.toUpperCase()}}</span>
                    </td>
                </ng-container>

                <!-- Nom -->
                <ng-container matColumnDef="Prenom">
                    <th mat-header-cell mat-sort-header *matHeaderCellDef>Prénom</th>
                    <td mat-cell *matCellDef="let item">
                        <span class="pr-6 whitespace-nowrap">{{item.firstName}}</span>
                    </td>
                </ng-container>

                <!-- Type -->
                <ng-container matColumnDef="Email">
                    <th mat-header-cell mat-sort-header *matHeaderCellDef>Email</th>
                    <td mat-cell *matCellDef="let item">
                        <span class="pr-6 whitespace-nowrap">{{item.email}}</span>
                    </td>
                </ng-container>

                <!-- Type -->
                <ng-container matColumnDef="Teléphone">
                    <th mat-header-cell mat-sort-header *matHeaderCellDef>Teléphone</th>
                    <td mat-cell *matCellDef="let item">
                        <span class="pr-6 whitespace-nowrap">{{item.phone}}</span>
                    </td>
                </ng-container>

                <!-- Type -->
                <ng-container matColumnDef="Adhésion">
                    <th mat-header-cell mat-sort-header *matHeaderCellDef>Adhésion</th>
                    <td mat-cell *matCellDef="let item">
                        <span class="pr-6 whitespace-nowrap">{{item.date}}</span>
                    </td>
                </ng-container>

                <!-- Type -->
                <ng-container matColumnDef="N°SIREN">
                    <th mat-header-cell mat-sort-header *matHeaderCellDef>N°SIREN</th>
                    <td mat-cell *matCellDef="let item">
                        <span class="pr-6 whitespace-nowrap">{{item.siren}}</span>
                    </td>
                </ng-container>

                <!-- Type -->
                <ng-container matColumnDef="Avertissements">
                    <th mat-header-cell mat-sort-header *matHeaderCellDef>Avertissements</th>
                    <td mat-cell *matCellDef="let item">
                        <span class="pr-6 whitespace-nowrap">{{item.warning}}</span>
                    </td>
                </ng-container>

                <!-- Type -->
                <ng-container matColumnDef="Annulations">
                    <th mat-header-cell mat-sort-header *matHeaderCellDef>Annulations</th>
                    <td mat-cell *matCellDef="let item">
                        <span class="pr-6 whitespace-nowrap">{{item.cancels}}</span>
                    </td>
                </ng-container>

                <!-- Type -->
                <ng-container matColumnDef="Taux de reussite">
                    <th mat-header-cell mat-sort-header *matHeaderCellDef>Taux de reussite</th>
                    <td mat-cell *matCellDef="let item">
                        <span class="pr-6 whitespace-nowrap">{{item.successPourcent}}%</span>
                    </td>
                </ng-container>

                <!-- Type -->
                <ng-container matColumnDef="Moyenne">
                    <th mat-header-cell mat-sort-header *matHeaderCellDef>Moyenne</th>
                    <td mat-cell *matCellDef="let item">
                        <span class="pr-6 whitespace-nowrap">{{item.moyenne}}</span>
                    </td>
                </ng-container>

                <!-- Type -->
                <ng-container matColumnDef="Statut">
                    <th mat-header-cell mat-sort-header *matHeaderCellDef>Statut</th>
                    <td mat-cell *matCellDef="let item">
                        <span *ngIf="item.statut == 'verified'" class="inline-flex items-center font-bold text-xs px-2.5 py-0.5 rounded-full tracking-wide uppercase bg-green-200 text-green-800 dark:bg-green-600 dark:text-green-50">Verifié</span>
                        <span *ngIf="item.statut == 'running'" class="inline-flex items-center font-bold text-xs px-2.5 py-0.5 rounded-full tracking-wide uppercase bg-orange-200 text-orange-800 dark:bg-orange-600 dark:text-orange-50" style="color: orange">En Cours</span>
                        <span *ngIf="item.statut == 'refused'" class="inline-flex items-center font-bold text-xs px-2.5 py-0.5 rounded-full tracking-wide uppercase bg-red-200 text-red-800 dark:bg-red-600 dark:text-red-50" style="color: red">Refusé</span>
                    </td>
                </ng-container>

                <!-- Type -->
                <ng-container matColumnDef="Options">
                    <th mat-header-cell mat-sort-header *matHeaderCellDef>Options</th>
                    <td mat-cell *matCellDef="let item" style="padding-left: 20px">
                        <!--<button class="mr-3" mat-stroked-button><span class="inline-flex items-center">Valider</span></button>
                        <button class="mr-3" mat-stroked-button><span class="inline-flex items-center">Desactiver</span></button>
                        <button mat-stroked-button><span class="inline-flex items-center">Details</span>
                            <mat-icon
                                class="ml-1.5 icon-size-5"
                                [svgIcon]="'heroicons_solid:arrow-sm-right'"></mat-icon>
                        </button>-->
                        ...
                    </td>
                </ng-container>

                <tr
                    mat-header-row
                    *matHeaderRowDef="columnsActifsChiefs"></tr>
                <tr
                    class="order-row h-16"
                    mat-row
                    *matRowDef="let row; columns: columnsActifsChiefs;"></tr>
            </table>
            <mat-paginator (page)="getPaging($event)" #paginator [length]="totalTickets"
                           [pageIndex]="currentPage" [pageSize]="size"
                           [pageSizeOptions]="[1,2,3,5, 10, 25, 100]">
            </mat-paginator>
        </div>
    </div>
</div>
