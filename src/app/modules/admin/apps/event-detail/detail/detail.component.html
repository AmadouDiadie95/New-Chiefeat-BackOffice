
<div *ngIf="dataObtained"
    class="absolute inset-0 min-w-0 text-center"
    cdkScrollable>

    <!-- Main -->
    <div class="inline-block p-6 sm:p-10 text-left print:p-0">

        <!-- Invoice -->
        <div class="w-240 min-w-240 pb-16 pl-16 pr-16 rounded-2xl shadow bg-card print:w-auto print:p-0 print:rounded-none print:shadow-none print:bg-transparent">

            <div class="text-center" *ngIf="globalSetting">
                <div class="p-3">Definir Comme l'Evénement Immanquable :</div>
                <div class="pb-5">
                    <button [disabled]="event.id === globalSetting.eventFeatured.id ? true: false" (click)="setEventAsFeatured()"
                        mat-flat-button [color]="'primary'">Definir</button>
                </div>
            </div>
            <div class="flex items-start pt-5">
                <div class="grid grid-rows-2 place-items-start gap-y-12">
                    <div class="grid auto-cols-max grid-flow-col gap-x-8">
                        <div class="place-self-center w-24">
                            <img
                                class="w-24"
                                [src]="organizerImage">
                        </div>
                        <div class="pl-10 border-l text-md">
                            <div class="font-medium">{{event.organizer.account.fullName}}.</div>
                            <div>{{event.organizer.account.email}}</div>
                            <div *ngIf="event.organizer.account.phone">{{event.organizer.account.phone}}</div>
                            <div *ngIf="event.organizer.account.address">{{event.organizer.account.address}}</div>
                        </div>
                    </div>
                    <div class="grid auto-cols-max grid-flow-col gap-x-8">
                        <div class="place-self-center w-24 text-center text-2xl text-secondary">
                            Detail
                        </div>
                        <div class="pl-10 border-l text-md">
                            <div class="font-medium">{{event.title}}</div>
                            <div>{{event.completeEventTime.split(',')[0]}}</div>
                            <div>{{event.completeEventTime.split(',')[1]}}</div>
                            <div>{{event.completeEventTime.split(',')[2]}}</div>
                            <div>Nombre de Billets/Tickets disponibles : {{event.totalTicketAvailable}}</div>
                            <div>Nombre de Billets/Tickets Initial : {{event.initialTotalTicketAvailable}}</div>
                        </div>
                    </div>
                </div>
                <div class="justify-self-end ml-50">
                    <img style="height: 300px ; width: 350px"
                        [src]="eventImage">
                </div>

            </div>

            <div class="grid grid-cols-12 gap-x-1 mt-16">
                <!-- Columns -->
                <div class="col-span-2 font-medium text-md text-secondary">TICKET/BILLET</div>
                <div class="col-span-2 font-medium text-md text-right text-secondary">PRIX</div>
                <div class="col-span-3 font-medium text-md text-right text-secondary">QUANTITE DISPONIBLES</div>
                <div class="col-span-3 font-medium text-md text-right text-secondary">QUANTITE VENDUES</div>
                <div class="col-span-2 font-medium text-md text-right text-secondary">TOTAL VENTES</div>

                <div class="grid grid-cols-12 col-span-12 " *ngFor="let ticketPrice of event.listTicketPrice ; trackBy: trackByFn">
                    <!-- Divider -->
                    <div class="col-span-12 my-4 border-b"></div>

                    <!-- Item -->
                    <div class="col-span-2">
                        <div class="text-lg font-medium">{{ticketPrice.ticketName}}</div>
                    </div>
                    <div class="col-span-2 self-center text-right">{{ticketPrice.price}} Fcfa</div>
                    <div class="col-span-3 self-center text-right">{{ticketPrice.quantityAvailable}}</div>
                    <div class="col-span-3 self-center text-right">{{ticketPrice.quantitySelled}}</div>
                    <div class="col-span-2 self-center text-right">{{ticketPrice.totalMoneyObtained}} Fcfa</div>

                </div>

                <!-- Spacer -->
                <div class="col-span-12 mt-16"></div>

                <!-- Divider -->
                <div class="col-span-12 my-3 border-b"></div>

                <!-- Total -->
                <div class="col-span-4 self-center text-2xl font-medium tracking-tight text-secondary">TOTAL</div>
                <div class="col-span-3 text-right text-2xl font-medium">{{event.totalTicketAvailable}}</div>
                <div class="col-span-3 text-right text-2xl font-medium">{{event.totalTicketSelled}}</div>
                <div class="col-span-2 text-right text-2xl font-medium">{{event.totalMoneyGaigned}} Fcfa</div>
            </div>

            <div class="text-center">
                <div class="mt-10">
                    <button (click)="showDashboard()"
                            mat-flat-button [color]="'primary'">Dashboard Finnance</button>
                </div>
            </div>

            <div class="mt-16">
                <div class="font-medium">Please pay within 15 days. Thank you for your business.</div>
                <div class="flex items-start mt-4">
                    <img
                        class="flex-0 w-10 mt-2"
                        src="assets/logo.jpeg">
                    <div class="ml-6 text-sm text-secondary">
                        In condimentum malesuada efficitur. Mauris volutpat placerat auctor. Ut ac congue dolor. Quisque scelerisque lacus sed feugiat fermentum.
                        Cras aliquet facilisis pellentesque. Nunc hendrerit quam at leo commodo, a suscipit tellus dapibus. Etiam at felis volutpat est mollis lacinia.
                        Mauris placerat sem sit amet velit mollis, in porttitor ex finibus. Proin eu nibh id libero tincidunt lacinia et eget.
                    </div>
                </div>
            </div>

        </div>

    </div>

</div>

<div class="pt-8 m-auto">
    <fuse-alert
        [appearance]="'soft'"
        [dismissible]="true"
        [dismissed]="false"
        [name]="'loading'"
        [type]="'info'">
        Chargement.....
    </fuse-alert>
</div>

<div class="pt-8 m-auto">
    <fuse-alert
        [appearance]="'soft'"
        [dismissible]="true"
        [dismissed]="true"
        [name]="'loading_error'"
        [type]="'error'">
        Erreur de Chargement dans la Base de Données, Veuillez Ressayez !
    </fuse-alert>
</div>
